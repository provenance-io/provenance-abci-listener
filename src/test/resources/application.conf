# application
grpc.server {
  addr = localhost
  port = 1234
}

kafka {
  producer {
    input.topic.prefix = "test-"
    input.topic.partitions = 1
    input.topic.replication.factor = 1

    kafka-clients {
      // bootstrap.servers = "using => https://www.testcontainers.org"
      acks = all
      enable.idempotence = true
      max.in.flight.requests.per.connection = 1
      linger.ms = 50
    }
  }

  consumer {
    input.topic.prefix = "test-"

    kafka-clients {
      // derived from testContainers
      // bootstrap.servers = "localhost:9092"
      enable.auto.commit = true
      auto.commit.interval.ms = 1000
      auto.offset.reset = earliest
      session.timout.ms = 30000
      key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
      value.deserializer=io.confluent.kafka.serializers.protobuf.KafkaProtobufDeserializer
    }
  }
}